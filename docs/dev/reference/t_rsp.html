<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Response Table — t_rsp • tern</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Response Table — t_rsp" />

<meta property="og:description" content="The response table function summarizes response data by groups. The function 
produces frequency counts and rates for responders and each response 
categories, as well as conducts comparisons between groups' response rates 
and odds ratio." />
<meta name="twitter:card" content="summary" />

<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tern</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/missing-data.html">Missing Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/Rpackages/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Response Table</h1>
    
    <div class="hidden name"><code>t_rsp.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The response table function summarizes response data by groups. The function 
produces frequency counts and rates for responders and each response 
categories, as well as conducts comparisons between groups' response rates 
and odds ratio.</p>
    
    </div>

    <pre class="usage"><span class='fu'>t_rsp</span>(<span class='no'>rsp</span>, <span class='no'>col_by</span>, <span class='kw'>partition_rsp_by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>strata_data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rsp</th>
      <td><p>boolean, <code>TRUE</code> if subject is a responder <code>FALSE</code>
otherwise</p></td>
    </tr>
    <tr>
      <th>col_by</th>
      <td><p>factor with reference and comparison group information, the
first <code>level</code> indicates the reference group</p></td>
    </tr>
    <tr>
      <th>partition_rsp_by</th>
      <td><p>factor with one or more response categories, generate
additional statistics partitioned by each response categories. If 
<code>NULL</code>, tabulation by each response categories will not be performed.</p></td>
    </tr>
    <tr>
      <th>strata_data</th>
      <td><p>data for stratification factors (categorical variables). 
If <code>NULL</code>, no stratified analysis is performed. See details for 
further explanation.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <code><a href='https://www.rdocumentation.org/packages/rtables/topics/rtable'>rtable</a></code> object</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For the test of difference in response rates, Wald confidence 
  interval with and without continuity correction are both reported. If no 
  stratification factors are specified, Chi-squared test is performed by 
  default to test for equality of proportions in response rate between 
  reference and comparison groups. If stratification factors are added, 
  Cochran-Mantel-Haensel test is performed instead. Statistics from the 
  stratificaiton-adjusted test will be reported for the p-value of test of 
  equal proportions, odds ratio and its corresponding 95% confidence 
  interval.</p>  
<p>The display order of response categories in partitioned statistics section 
  inherits the factor level order of <code>partition_rsp_by</code>. Use 
  <code><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></code> and its <code>levels</code> argument to include or 
  exclude response categories and arrange display order. If response values 
  contains missing or "Not Evaluable (NE)", 95% confidence interval will not
  be calculated.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>t_rsp</span>(<span class='kw'>rsp</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sample'>sample</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>), <span class='fl'>200</span>, <span class='fl'>TRUE</span>), <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"B"</span>), <span class='kw'>each</span> <span class='kw'>=</span> <span class='fl'>100</span>)))</div><div class='output co'>#&gt; <span class='error'>Error in check_col_by(col_by, min_num_levels = 2): argument "col_N" is missing, with no default</span></div><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>random.cdisc.data</span>)
<span class='no'>ADSL</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/random.cdisc.data/topics/radsl'>radsl</a></span>(<span class='kw'>N</span> <span class='kw'>=</span> <span class='fl'>1000</span>)

<span class='no'>ADRS</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/random.cdisc.data/topics/radrs'>radrs</a></span>(<span class='no'>ADSL</span>)
<span class='no'>ADRS_f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='no'>ADRS</span>, <span class='no'>PARAMCD</span> <span class='kw'>==</span> <span class='st'>"BESRSPI"</span>)

<span class='co'># Example 1 - ARM B as reference</span>
<span class='co'>#    "NON CR/PD" response category dropped from partition section since no observations</span>
<span class='co'>#     model with no stratifiaction factors, Chi-square test is performed</span>
<span class='no'>tbl</span> <span class='kw'>&lt;-</span> <span class='fu'>t_rsp</span>(
 <span class='kw'>rsp</span> <span class='kw'>=</span> <span class='no'>ADRS_f</span>$<span class='no'>AVALC</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"CR"</span>, <span class='st'>"PR"</span>),
 <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/relevel'>relevel</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='no'>ADRS_f</span>$<span class='no'>ARMCD</span>), <span class='st'>"ARM B"</span>),
 <span class='kw'>partition_rsp_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/droplevels'>droplevels</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(
   <span class='no'>ADRS_f</span>$<span class='no'>AVALC</span>, <span class='kw'>levels</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"CR"</span>, <span class='st'>"PR"</span>, <span class='st'>"SD"</span>, <span class='st'>"NON CR/PD"</span>, <span class='st'>"PD"</span>, <span class='st'>"NE"</span>)
 ))
)</div><div class='output co'>#&gt; <span class='error'>Error in check_col_by(col_by, min_num_levels = 2): argument "col_N" is missing, with no default</span></div><div class='input'><span class='no'>tbl</span></div><div class='output co'>#&gt; function (src, ...) 
#&gt; {
#&gt;     UseMethod("tbl")
#&gt; }
#&gt; &lt;bytecode: 0x000000000ac73b58&gt;
#&gt; &lt;environment: namespace:dplyr&gt;</div><span class='co'># NOT RUN {</span>
<span class='fu'>Viewer</span>(<span class='no'>tbl</span>)
<span class='co'># }</span><div class='input'>
<span class='co'># Example 2 - ARM B as reference, ARM C displayed before ARM A</span>
<span class='co'>#    "NON CR/PD" response category displayed in partition section, "NE" responses</span>
<span class='co'>#     are not displayed model with two stratifiaction factors, CMH test performed</span>
<span class='no'>tbl2</span> <span class='kw'>&lt;-</span> <span class='fu'>t_rsp</span>(
 <span class='kw'>rsp</span> <span class='kw'>=</span> <span class='no'>ADRS_f</span>$<span class='no'>AVALC</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"CR"</span>, <span class='st'>"PR"</span>),
 <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='no'>ADRS_f</span>$<span class='no'>ARMCD</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"ARM B"</span>, <span class='st'>"ARM C"</span>, <span class='st'>"ARM A"</span>)),
 <span class='kw'>partition_rsp_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='no'>ADRS_f</span>$<span class='no'>AVALC</span>, <span class='kw'>levels</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"CR"</span>, <span class='st'>"PR"</span>, <span class='st'>"SD"</span>, <span class='st'>"NON CR/PD"</span>, <span class='st'>"PD"</span>)),
 <span class='kw'>strata_data</span> <span class='kw'>=</span> <span class='no'>ADRS_f</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"RACE"</span>)]
)</div><div class='output co'>#&gt; <span class='error'>Error in check_col_by(col_by, min_num_levels = 2): argument "col_N" is missing, with no default</span></div><div class='input'><span class='no'>tbl2</span></div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'tbl2' not found</span></div><span class='co'># NOT RUN {</span>
<span class='fu'>Viewer</span>(<span class='no'>tbl2</span>)
<span class='co'># }</span><div class='input'>
<span class='co'># Example 3 - when all observations are non-responders</span>
<span class='no'>ADRS</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
<span class='kw'>rsp</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
<span class='kw'>arm</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"B"</span>), <span class='kw'>each</span> <span class='kw'>=</span> <span class='fl'>200</span>)
)

<span class='fu'>t_rsp</span>(<span class='kw'>rsp</span> <span class='kw'>=</span> <span class='no'>ADRS</span>$<span class='no'>rsp</span>, <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='no'>ADRS</span>$<span class='no'>arm</span>))</div><div class='output co'>#&gt; <span class='error'>Error in check_col_by(col_by, min_num_levels = 2): argument "col_N" is missing, with no default</span></div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Chendi Liao (liaoc10) <a href='mailto:chendi.liao@roche.com'>chendi.liao@roche.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Adrian Waddell, Heng Wang, Yuyao Song, Chendi Liao, Edgar Manukyan, Ting Qi, Carolyn Zhang, Mark Rothe, Xiao Mu Yo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

