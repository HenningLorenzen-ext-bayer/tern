<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Basic Events Table — t_events_per_term_id • tern</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Basic Events Table — t_events_per_term_id" />
<meta property="og:description" content="This function summarizes number of unique subjects with events and total number of events.
It creates basic summary of events and can be used for any events data like Adverse Events,
concomitant medication, medical history, etc." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tern</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/missing-data.html">Missing Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start_releases -->
<li class="dropdown">
	<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
Other releases
<span class="caret"></span></a><ul class="dropdown-menu" role="menu">
   <li><a href="../../index.html">latest</a></li>
   <li><a href="../../pre-release/index.html">pre-release</a></li>
   <li><a href="../../v0.7.5/index.html">v0.7.5</a></li>
   <li><a href="../../v0.7.4/index.html">v0.7.4</a></li>
   <li><a href="../../v0.7.3/index.html">v0.7.3</a></li>
   <li><a href="../../v0.7.1/index.html">v0.7.1</a></li>
   <li><a href="../../v0.7.0/index.html">v0.7.0</a></li>
   <li><a href="../../v0.6.9/index.html">v0.6.9</a></li>
   <li><a href="../../v0.6.8/index.html">v0.6.8</a></li>
   <li><a href="../../v0.6.7/index.html">v0.6.7</a></li>
   <li><a href="../../v0.6.6/index.html">v0.6.6</a></li>
   <li><a href="../../v0.6.5/index.html">v0.6.5</a></li>
   <li><a href="../../v0.6.4/index.html">v0.6.4</a></li>
   <li><a href="../../v0.6.2/index.html">v0.6.2</a></li>
   <li><a href="../../v0.6.1/index.html">v0.6.1</a></li>
   <li><a href="../../v0.6.0/index.html">v0.6.0</a></li>
   <li><a href="../../v0.5.0/index.html">v0.5.0</a></li>
</ul></li>
<!-- end_releases -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/NEST/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Basic Events Table</h1>
    
    <div class="hidden name"><code>t_events_per_term_id.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function summarizes number of unique subjects with events and total number of events.
It creates basic summary of events and can be used for any events data like Adverse Events,
concomitant medication, medical history, etc.</p>
    </div>

    <pre class="usage"><span class='fu'>t_events_per_term_id</span>(
  <span class='no'>terms</span>,
  <span class='no'>id</span>,
  <span class='no'>col_by</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>event_type</span> <span class='kw'>=</span> <span class='st'>"event"</span>,
  <span class='kw'>table_tree</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>terms</th>
      <td><p>character or factor vector, or <code>data.frame</code> to represent events information; Currently <code>terms</code>
can only be a vector or dataframe with 1 or 2 columns. For <code>terms</code> with 2 columns, 1st column should represent
higher level term and 2nd column should be lower level term. <code>var_relabel</code> is used as the character string
used as a label in the column header for each term.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>vector of subject identifier. Length of <code>id</code> must be the same as the length or number of rows of
<code>terms</code>.</p></td>
    </tr>
    <tr>
      <th>col_by</th>
      <td><p>logical factor or data.frame with reference and comparison group information, the
first <code>level</code> indicates the reference group. See the functions <code>factor_to_matrix_by</code>
and <code>add_total_by</code>.</p></td>
    </tr>
    <tr>
      <th>col_N</th>
      <td><p>numeric vector with information of the number of patients in the levels of <code>col_by</code>. This is useful
if there are patients that have no adverse events can be accounted for with this argument.</p></td>
    </tr>
    <tr>
      <th>total</th>
      <td><p>string of column name of an added total column using <code><a href='https://rdrr.io/pkg/rtables/man/by_add_total.html'>by_add_total</a></code> to
<code>col_by</code> and <code><a href='col_N_add_total.html'>col_N_add_total</a></code> to <code>col_N</code>. If <code>NULL</code> no total column is added.</p></td>
    </tr>
    <tr>
      <th>event_type</th>
      <td><p>type of event that is summarized (e.g. adverse event, treatment). Default is "event".</p></td>
    </tr>
    <tr>
      <th>table_tree</th>
      <td><p>logical, if <code>FALSE</code> then a single <code>rtable</code> gets returned, if <code>TRUE</code> a
<code><a href='node-class.html'>node</a></code> object gets returned with the elementary <code>rtable</code> objects.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <code>rtable</code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Implementation examples are to apply <code>t_events_per_term_id</code> on Adverse Event data
to create Adverse Events summary table
(<code>AET02</code>,
<a href='http://bioportal.roche.com/stream_doc/2_05/um/report_outputs_aet02.html#example-report-outputs-aet02-aet02'>
STREAM2.x</a>,
<a href='https://rochewiki.roche.com/confluence/pages/viewpage.action?pageId=294027342'>STREAM1.17</a> ),
or apply on Concomitant Medication data to create Concomitant Treatment summary table
(<code>CMT01</code>,
<a href='http://bioportal.roche.com/stream_doc/2_05/um/report_outputs_cmt01.html#example-report-outputs-cmt01-cmt01'>
STREAM2.x</a>,
<a href='https://rochewiki.roche.com/confluence/pages/viewpage.action?pageId=294027342'>STREAM1.17</a>).</p>

<p><code>t_events_per_term_id</code> includes percentages based on the total number of subjects
in the column heading (i.e. <code>"N=nnn"</code>). <code>col_N</code> can be explicitly specified to
get N for percentage calculation from either events dataset or additional dataset such as
subject level dataset. See the example.</p>
<p>Multiple events within a subject of the same term (if <code>terms</code> is one level) or lower level term
(if <code>terms</code> is two levels) are counted once when counting number of subjects.</p>
<p><code>t_events_per_term_id</code> doesn't deal with data with any non-complete records (has <code>NA</code>),
e.g. if any terms are missing. Impute missing values before using <code>t_events_per_term_id</code>.</p>
<p><code>t_events_per_term_id</code> orders data by "All Patients" column from the most commonly
 reported higher level term to the least frequent one. Within each group of higher level term,
 it sorts by decreasing frequency of lower level term. It brakes ties using <code>terms</code> names in
 alphabetical order.</p>
<p>The data is split and table functions are applied to leaf nodes as follows:<img src='figures/lt_events_per_term_id_2.png' alt="lt_events_per_term_id_2 layout" /></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='t_count_unique.html'>t_count_unique</a></code>, <code><a href='t_el_events_per_term_id.html'>t_el_events_per_term_id</a></code>,
  <code><a href='t_events_per_term_grade_id.html'>t_events_per_term_grade_id</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>purrr</span>)

<span class='fu'>t_events_per_term_id</span>(
 <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'>with_label</span>(<span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"t1"</span>, <span class='st'>"t1"</span>, <span class='st'>"t2"</span>, <span class='st'>"t2"</span>, <span class='st'>"t2"</span>)), <span class='st'>"Term"</span>),
 <span class='kw'>id</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>4</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>3</span>),
 <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span>)),
 <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>10</span>),
 <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"All Patients"</span>
)</div><div class='output co'>#&gt;                                                              A                   B                   C              All Patients
#&gt;                                                            (N=2)               (N=4)               (N=10)              (N=16)   
#&gt; --------------------------------------------------------------------------------------------------------------------------------
#&gt; Total number of patients with at least one event          2 (100%)            1 (25%)             1 (10%)             4 (25%)   
#&gt; Total number of events                                       2                   1                   2                   5      
#&gt; t1                                                        2 (100%)             0 (0%)              0 (0%)            2 (12.5%)  
#&gt; t2                                                         0 (0%)             1 (25%)             1 (10%)            2 (12.5%)  </div><div class='input'>
<span class='fu'>t_events_per_term_id</span>(
 <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'>with_label</span>(<span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"t1"</span>, <span class='st'>"t1"</span>, <span class='st'>"t2"</span>, <span class='st'>"t2"</span>, <span class='st'>"t2"</span>)), <span class='st'>"Term"</span>),
 <span class='kw'>id</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>4</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>3</span>),
 <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span>)),
 <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>10</span>)
)</div><div class='output co'>#&gt;                                                            A               B               C    
#&gt;                                                          (N=2)           (N=4)           (N=10) 
#&gt; ------------------------------------------------------------------------------------------------
#&gt; Total number of patients with at least one event        2 (100%)        1 (25%)         1 (10%) 
#&gt; Total number of events                                     2               1               2    
#&gt; t1                                                      2 (100%)         0 (0%)          0 (0%) 
#&gt; t2                                                       0 (0%)         1 (25%)         1 (10%) </div><div class='input'>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>random.cdisc.data</span>)

<span class='no'>ADSL</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/random.cdisc.data/man/radsl.html'>radsl</a></span>(<span class='fl'>10</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='no'>ADAE</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/random.cdisc.data/man/radae.html'>radae</a></span>(<span class='no'>ADSL</span>, <span class='fl'>4L</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>2</span>)

<span class='fu'>t_events_per_term_id</span>(
  <span class='kw'>terms</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>AEDECOD</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>USUBJID</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>ARM</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>ADSL</span>$<span class='no'>ARM</span>),
  <span class='kw'>event_type</span> <span class='kw'>=</span> <span class='st'>"adverse event"</span>
)</div><div class='output co'>#&gt;                                                                   A: Drug X             B: Placebo          C: Combination
#&gt;                                                                     (N=6)                 (N=2)                 (N=2)     
#&gt; --------------------------------------------------------------------------------------------------------------------------
#&gt; Total number of patients with at least one adverse event          5 (83.33%)             2 (100%)              1 (50%)    
#&gt; Total number of adverse events                                        15                    8                     2       
#&gt; dcd C.1.1.1.3                                                      3 (50%)               2 (100%)               0 (0%)    
#&gt; dcd A.1.1.1.2                                                      3 (50%)                0 (0%)                0 (0%)    
#&gt; dcd C.2.1.2.1                                                     2 (33.33%)             1 (50%)                0 (0%)    
#&gt; dcd D.1.1.1.1                                                     2 (33.33%)             1 (50%)                0 (0%)    
#&gt; dcd D.1.1.4.2                                                     2 (33.33%)             1 (50%)                0 (0%)    
#&gt; dcd A.1.1.1.1                                                     1 (16.67%)             1 (50%)                0 (0%)    
#&gt; dcd B.1.1.1.1                                                       0 (0%)               1 (50%)               1 (50%)    
#&gt; dcd B.2.1.2.1                                                       0 (0%)                0 (0%)               1 (50%)    </div><div class='input'>
<span class='fu'>t_events_per_term_id</span>(
  <span class='kw'>terms</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>AEDECOD</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>USUBJID</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>ARM</span>,
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"All Patients"</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>ADSL</span>$<span class='no'>ARM</span>),
  <span class='kw'>event_type</span> <span class='kw'>=</span> <span class='st'>"adverse event"</span>
)</div><div class='output co'>#&gt;                                                                   A: Drug X             B: Placebo          C: Combination         All Patients 
#&gt;                                                                     (N=6)                 (N=2)                 (N=2)                 (N=10)    
#&gt; ------------------------------------------------------------------------------------------------------------------------------------------------
#&gt; Total number of patients with at least one adverse event          5 (83.33%)             2 (100%)              1 (50%)               8 (80%)    
#&gt; Total number of adverse events                                        15                    8                     2                     25      
#&gt; dcd C.1.1.1.3                                                      3 (50%)               2 (100%)               0 (0%)               5 (50%)    
#&gt; dcd A.1.1.1.2                                                      3 (50%)                0 (0%)                0 (0%)               3 (30%)    
#&gt; dcd C.2.1.2.1                                                     2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    
#&gt; dcd D.1.1.1.1                                                     2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    
#&gt; dcd D.1.1.4.2                                                     2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    
#&gt; dcd A.1.1.1.1                                                     1 (16.67%)             1 (50%)                0 (0%)               2 (20%)    
#&gt; dcd B.1.1.1.1                                                       0 (0%)               1 (50%)               1 (50%)               2 (20%)    
#&gt; dcd B.2.1.2.1                                                       0 (0%)                0 (0%)               1 (50%)               1 (10%)    </div><div class='input'>
<span class='fu'>t_events_per_term_id</span>(
  <span class='kw'>terms</span> <span class='kw'>=</span> <span class='no'>ADAE</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"AEBODSYS"</span>, <span class='st'>"AEDECOD"</span>)],
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>USUBJID</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>ARM</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>ADSL</span>$<span class='no'>ARM</span>),
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"All Patients"</span>
)</div><div class='output co'>#&gt;                                                             A: Drug X             B: Placebo          C: Combination         All Patients 
#&gt;                                                               (N=6)                 (N=2)                 (N=2)                 (N=10)    
#&gt; ------------------------------------------------------------------------------------------------------------------------------------------
#&gt; - Any event -
#&gt;   Total number of patients with at least one event          5 (83.33%)             2 (100%)              1 (50%)               8 (80%)    
#&gt;   Total number of events                                        15                    8                     2                     25      
#&gt; 
#&gt; cl A.1
#&gt;   Total number of patients with at least one event           3 (50%)               1 (50%)                0 (0%)               4 (40%)    
#&gt;   Total number of events                                        6                     1                     0                     7       
#&gt;   dcd A.1.1.1.2                                              3 (50%)                0 (0%)                0 (0%)               3 (30%)    
#&gt;   dcd A.1.1.1.1                                             1 (16.67%)             1 (50%)                0 (0%)               2 (20%)    
#&gt; 
#&gt; cl B.1
#&gt;   Total number of patients with at least one event            0 (0%)               1 (50%)               1 (50%)               2 (20%)    
#&gt;   Total number of events                                        0                     1                     1                     2       
#&gt;   dcd B.1.1.1.1                                               0 (0%)               1 (50%)               1 (50%)               2 (20%)    
#&gt; 
#&gt; cl B.2
#&gt;   Total number of patients with at least one event            0 (0%)                0 (0%)               1 (50%)               1 (10%)    
#&gt;   Total number of events                                        0                     0                     1                     1       
#&gt;   dcd B.2.1.2.1                                               0 (0%)                0 (0%)               1 (50%)               1 (10%)    
#&gt; 
#&gt; cl C.1
#&gt;   Total number of patients with at least one event           3 (50%)               2 (100%)               0 (0%)               5 (50%)    
#&gt;   Total number of events                                        3                     3                     0                     6       
#&gt;   dcd C.1.1.1.3                                              3 (50%)               2 (100%)               0 (0%)               5 (50%)    
#&gt; 
#&gt; cl C.2
#&gt;   Total number of patients with at least one event          2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    
#&gt;   Total number of events                                        2                     1                     0                     3       
#&gt;   dcd C.2.1.2.1                                             2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    
#&gt; 
#&gt; cl D.1
#&gt;   Total number of patients with at least one event           3 (50%)               2 (100%)               0 (0%)               5 (50%)    
#&gt;   Total number of events                                        4                     2                     0                     6       
#&gt;   dcd D.1.1.1.1                                             2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    
#&gt;   dcd D.1.1.4.2                                             2 (33.33%)             1 (50%)                0 (0%)               3 (30%)    </div><div class='input'>
<span class='no'>ADSL</span> <span class='kw'>&lt;-</span> <span class='no'>cadsl</span>
<span class='no'>ADCM</span> <span class='kw'>&lt;-</span> <span class='no'>cadcm</span>
<span class='no'>ADCM</span> <span class='kw'>&lt;-</span> <span class='no'>ADCM</span> <span class='kw'>%&gt;%</span>
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>ATIREL</span> <span class='kw'>==</span> <span class='st'>"CONCOMITANT"</span>)

<span class='fu'>t_events_per_term_id</span>(
  <span class='kw'>terms</span> <span class='kw'>=</span> <span class='no'>ADCM</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"CMCLAS"</span>, <span class='st'>"CMDECOD"</span>)],
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>ADCM</span>$<span class='no'>USUBJID</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADCM</span>$<span class='no'>ARM</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>ADSL</span>$<span class='no'>ARM</span>),
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"All Patients"</span>,
  <span class='kw'>event_type</span> <span class='kw'>=</span> <span class='st'>"treatment"</span>
)</div><div class='output co'>#&gt;                                                                 A: Drug X             B: Placebo          C: Combination         All Patients 
#&gt;                                                                  (N=134)               (N=134)               (N=132)               (N=400)    
#&gt; ----------------------------------------------------------------------------------------------------------------------------------------------
#&gt; - Any treatment -
#&gt;   Total number of patients with at least one treatment         117 (87.31%)          116 (86.57%)          116 (87.88%)          349 (87.25%) 
#&gt;   Total number of treatments                                       415                   414                   460                   1289     
#&gt; 
#&gt; medcl A
#&gt;   Total number of patients with at least one treatment         75 (55.97%)           79 (58.96%)           81 (61.36%)           235 (58.75%) 
#&gt;   Total number of treatments                                       134                   137                   143                   414      
#&gt;   medname A_2/3                                                53 (39.55%)           50 (37.31%)           56 (42.42%)           159 (39.75%) 
#&gt;   medname A_3/3                                                45 (33.58%)            54 (40.3%)           48 (36.36%)           147 (36.75%) 
#&gt; 
#&gt; medcl B
#&gt;   Total number of patients with at least one treatment         83 (61.94%)           74 (55.22%)           88 (66.67%)           245 (61.25%) 
#&gt;   Total number of treatments                                       141                   137                   162                   440      
#&gt;   medname B_1/4                                                52 (38.81%)           57 (42.54%)            59 (44.7%)            168 (42%)   
#&gt;   medname B_4/4                                                50 (37.31%)           45 (33.58%)           55 (41.67%)           150 (37.5%)  
#&gt; 
#&gt; medcl C
#&gt;   Total number of patients with at least one treatment         82 (61.19%)           84 (62.69%)           89 (67.42%)           255 (63.75%) 
#&gt;   Total number of treatments                                       140                   140                   155                   435      
#&gt;   medname C_2/2                                                52 (38.81%)           58 (43.28%)           60 (45.45%)           170 (42.5%)  
#&gt;   medname C_1/2                                                51 (38.06%)           50 (37.31%)           56 (42.42%)           157 (39.25%) </div><div class='input'>

<span class='co'># Table Tree</span>

<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'>t_events_per_term_id</span>(
  <span class='kw'>terms</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>AEDECOD</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>USUBJID</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>ARM</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>ADSL</span>$<span class='no'>ARM</span>),
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"All Patients"</span>,
  <span class='kw'>table_tree</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
))</div><div class='output co'>#&gt;                          index            content             dim            hide label          format  
#&gt; ---------------------------------------------------------------------------------------------------------
#&gt; All                                        rtable            2 x 4              TRUE              0, 0   
#&gt;   dcd C.1.1.1.3            1               rtable            1 x 4              TRUE                     
#&gt;   dcd A.1.1.1.2            2               rtable            1 x 4              TRUE                     
#&gt;   dcd C.2.1.2.1            3               rtable            1 x 4              TRUE                     
#&gt;   dcd D.1.1.1.1            4               rtable            1 x 4              TRUE                     
#&gt;   dcd D.1.1.4.2            5               rtable            1 x 4              TRUE                     
#&gt;   dcd A.1.1.1.1            6               rtable            1 x 4              TRUE                     
#&gt;   dcd B.1.1.1.1            7               rtable            1 x 4              TRUE                     
#&gt;   dcd B.2.1.2.1            8               rtable            1 x 4              TRUE                     </div><div class='input'>

<span class='no'>tbls</span> <span class='kw'>&lt;-</span> <span class='fu'>t_events_per_term_id</span>(
 <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'>with_label</span>(<span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"t1"</span>, <span class='st'>"t1"</span>, <span class='st'>"t2"</span>, <span class='st'>"t2"</span>, <span class='st'>"t2"</span>)), <span class='st'>"Term"</span>),
 <span class='kw'>id</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>4</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>3</span>),
 <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span>)),
 <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>10</span>),
 <span class='kw'>table_tree</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>tbls</span>)</div><div class='output co'>#&gt;               index            content             dim            hide label          format  
#&gt; ----------------------------------------------------------------------------------------------
#&gt; All                             rtable            2 x 3              TRUE              0, 0   
#&gt;   t1            1               rtable            1 x 3              TRUE                     
#&gt;   t2            2               rtable            1 x 3              TRUE                     </div><div class='input'>

<span class='no'>tbls</span> <span class='kw'>&lt;-</span> <span class='fu'>t_events_per_term_id</span>(
  <span class='kw'>terms</span> <span class='kw'>=</span> <span class='no'>ADAE</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"AEBODSYS"</span>, <span class='st'>"AEDECOD"</span>)],
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>USUBJID</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADAE</span>$<span class='no'>ARM</span>,
  <span class='kw'>col_N</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>ADSL</span>$<span class='no'>ARM</span>),
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"All Patients"</span>,
  <span class='kw'>table_tree</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>tbls</span>)</div><div class='output co'>#&gt;                            index            content             dim            hide label          format  
#&gt; -----------------------------------------------------------------------------------------------------------
#&gt; - Any event -                                rtable            2 x 4             FALSE               0     
#&gt;   cl A.1                     1               rtable            2 x 4             FALSE              0, 0   
#&gt;     dcd A.1.1.1.2           1, 1             rtable            1 x 4              TRUE                     
#&gt;     dcd A.1.1.1.1           1, 2             rtable            1 x 4              TRUE                     
#&gt;   cl B.1                     2               rtable            2 x 4             FALSE              0, 0   
#&gt;     dcd B.1.1.1.1           2, 1             rtable            1 x 4              TRUE                     
#&gt;   cl B.2                     3               rtable            2 x 4             FALSE              0, 0   
#&gt;     dcd B.2.1.2.1           3, 1             rtable            1 x 4              TRUE                     
#&gt;   cl C.1                     4               rtable            2 x 4             FALSE              0, 0   
#&gt;     dcd C.1.1.1.3           4, 1             rtable            1 x 4              TRUE                     
#&gt;   cl C.2                     5               rtable            2 x 4             FALSE              0, 0   
#&gt;     dcd C.2.1.2.1           5, 1             rtable            1 x 4              TRUE                     
#&gt;   cl D.1                     6               rtable            2 x 4             FALSE              0, 0   
#&gt;     dcd D.1.1.1.1           6, 1             rtable            1 x 4              TRUE                     
#&gt;     dcd D.1.1.4.2           6, 2             rtable            1 x 4              TRUE                     </div><div class='input'><span class='no'>tbls</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='output co'>#&gt;                                                           A: Drug X             B: Placebo          C: Combination         All Patients 
#&gt;                                                            (N=134)               (N=134)               (N=132)               (N=400)    
#&gt; ----------------------------------------------------------------------------------------------------------------------------------------
#&gt; Total number of patients with at least one event          3 (2.24%)             1 (0.75%)               0 (0%)                4 (1%)    
#&gt; Total number of events                                        6                     1                     0                     7       </div><div class='input'><span class='no'>tbls</span><span class='kw'>[[</span><span class='st'>'cl A'</span>]]</div><div class='output co'>#&gt; NULL</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Adrian Waddell (waddella) <a href='mailto:adrian.waddell@roche.com'>adrian.waddell@roche.com</a></p>
<p>Carolyn Zhang (zhanc107) <a href='mailto:carolyn.zhang@duke.edu'>carolyn.zhang@duke.edu</a></p>
<p>Heng Wang (wangh107) <a href='mailto:wang.heng@gene.com'>wang.heng@gene.com</a></p>
<p>Ting Qi (qit3) <a href='mailto:qit3@gene.com'>qit3@gene.com</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by NEST, Roche, Adrian Waddell, Maximilian Mordig, Heng Wang, Jennifer Li, Yuyao Song, Chendi Liao, Jana Stoilova, Edgar Manukyan, Ting Qi, Carolyn Zhang, Mark Rothe, Xiao Mu Yo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


