<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Time-to-event Table as used for Forest Plot — t_forest_tte • tern</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Time-to-event Table as used for Forest Plot — t_forest_tte" />
<meta property="og:description" content="The time-to-event forest plot table summarizes time-to-event data by groups. The function returns event counts and
median survival time for each analysis arm, as well as a hazard ratio and the corresponding 95% confidence interval
from a Cox proportional hazard model." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tern</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/missing-data.html">Missing Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start_releases -->
<li class="dropdown">
	<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
Other releases
<span class="caret"></span></a><ul class="dropdown-menu" role="menu">
   <li><a href="../../index.html">latest</a></li>
   <li><a href="../../pre-release/index.html">pre-release</a></li>
   <li><a href="../../v0.7.5/index.html">v0.7.5</a></li>
   <li><a href="../../v0.7.4/index.html">v0.7.4</a></li>
   <li><a href="../../v0.7.3/index.html">v0.7.3</a></li>
   <li><a href="../../v0.7.1/index.html">v0.7.1</a></li>
   <li><a href="../../v0.7.0/index.html">v0.7.0</a></li>
   <li><a href="../../v0.6.9/index.html">v0.6.9</a></li>
   <li><a href="../../v0.6.8/index.html">v0.6.8</a></li>
   <li><a href="../../v0.6.7/index.html">v0.6.7</a></li>
   <li><a href="../../v0.6.6/index.html">v0.6.6</a></li>
   <li><a href="../../v0.6.5/index.html">v0.6.5</a></li>
   <li><a href="../../v0.6.4/index.html">v0.6.4</a></li>
   <li><a href="../../v0.6.2/index.html">v0.6.2</a></li>
   <li><a href="../../v0.6.1/index.html">v0.6.1</a></li>
   <li><a href="../../v0.6.0/index.html">v0.6.0</a></li>
   <li><a href="../../v0.5.0/index.html">v0.5.0</a></li>
</ul></li>
<!-- end_releases -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/NEST/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Time-to-event Table as used for Forest Plot</h1>
    
    <div class="hidden name"><code>t_forest_tte.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The time-to-event forest plot table summarizes time-to-event data by groups. The function returns event counts and
median survival time for each analysis arm, as well as a hazard ratio and the corresponding 95% confidence interval
from a Cox proportional hazard model.</p>
    </div>

    <pre class="usage"><span class='fu'>t_forest_tte</span>(
  <span class='no'>tte</span>,
  <span class='no'>is_event</span>,
  <span class='no'>col_by</span>,
  <span class='kw'>row_by_list</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"ALL"</span>,
  <span class='kw'>strata_data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ties</span> <span class='kw'>=</span> <span class='st'>"exact"</span>,
  <span class='kw'>time_unit</span> <span class='kw'>=</span> <span class='st'>"month"</span>,
  <span class='kw'>dense_header</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>table_tree</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tte</th>
      <td><p>vector with numeric time to event data, currently no <code>NA</code> allowed</p></td>
    </tr>
    <tr>
      <th>is_event</th>
      <td><p>is boolean, <code>TRUE</code> if event, <code>FALSE</code> if <code>tte</code>
is censored</p></td>
    </tr>
    <tr>
      <th>col_by</th>
      <td><p>logical factor or data.frame with reference and comparison group information, the
first <code>level</code> indicates the reference group. See the functions <code>factor_to_matrix_by</code>
and <code>add_total_by</code>.</p></td>
    </tr>
    <tr>
      <th>row_by_list</th>
      <td><p><code>list</code> or <code>data.frame</code> with one factor variable to calculate
the <code>t_el_forest_tte</code></p></td>
    </tr>
    <tr>
      <th>total</th>
      <td><p>string of column name of an added total column using <code><a href='https://rdrr.io/pkg/rtables/man/by_add_total.html'>by_add_total</a></code> to
<code>col_by</code> and <code><a href='col_N_add_total.html'>col_N_add_total</a></code> to <code>col_N</code>. If <code>NULL</code> no total column is added.</p></td>
    </tr>
    <tr>
      <th>strata_data</th>
      <td><p>currently not supported</p></td>
    </tr>
    <tr>
      <th>ties</th>
      <td><p>the method used for tie handling in <code><a href='https://rdrr.io/pkg/survival/man/coxph.html'>coxph</a></code>.</p></td>
    </tr>
    <tr>
      <th>time_unit</th>
      <td><p>The unit of median survival time. Default is <code>months</code>.</p></td>
    </tr>
    <tr>
      <th>dense_header</th>
      <td><p>Display the table headers in multiple rows.</p></td>
    </tr>
    <tr>
      <th>table_tree</th>
      <td><p>logical, if <code>FALSE</code> then a single <code>rtable</code> gets returned, if <code>TRUE</code> a
<code><a href='node-class.html'>node</a></code> object gets returned with the elementary <code>rtable</code> objects.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Cox proportional hazard model is used for hazard ratio calculation</p>
<p>The returned table contains one row per analysis within a subgroup of data
(indicated by the row name). The analysis is summarized with the following 9
columns:</p>
<dl class='dl-horizontal'>
  <dt>1</dt><dd><p><em>Total n</em> the total number of subjects included in analysis population</p></dd>
  <dt>2-4</dt><dd><p>Survival statistics for reference arm, <em>n</em> and <em>Events</em> are the total number
of patients and the number of events in reference arm, respectively.
  <code>Median (month)</code> is the survival time estimated by Kaplan-Meier method. Time
 unit can be modified per study needs.</p></dd>
  <dt>5-7</dt><dd><p>same analysis as for reference arm now for comparison arm</p></dd>
  <dt>8</dt><dd><p><em>Hazard Ratio</em> ranges from 0 to infinity. The hazard ratio is an estimate of
 the ratio of the hazard rate in the comparison group versus that in the reference group.
   Univariate Cox proportional hazard model is applied to obtain the estimated hazard ratio.
  Hazard ratio &gt; 1 implies better treatment effect in reference arm, and hazard ratio &lt; 1 when
  comparison arm is better.</p></dd>
  <dt>9</dt><dd><p><em>95% Wald CI</em> The 95<!-- % confidence interval indicates the level of uncertainty -->
  around the measure of effect (Hazard Ratio). Because only a small sample of the overall
  population is included in the analysis, by having an upper and lower confidence limit
  we can infer that the true treatment effect lies in between. If the 95<!-- % confidence interval -->
  includes 1, then we say that the difference between two arms is not significant at a significance level of 0.05.</p></dd>

</dl>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='t_el_forest_tte.html'>t_el_forest_tte</a></code>, <code><a href='t_tte.html'>t_tte</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>random.cdisc.data</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)

<span class='no'>ADSL</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/random.cdisc.data/man/radsl.html'>radsl</a></span>(<span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='no'>ADTTE</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/random.cdisc.data/man/radtte.html'>radtte</a></span>(<span class='no'>ADSL</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>ADTTE_f</span> <span class='kw'>&lt;-</span> <span class='no'>ADTTE</span> <span class='kw'>%&gt;%</span>
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>PARAMCD</span> <span class='kw'>==</span> <span class='st'>"OS"</span>, <span class='no'>ARMCD</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ARM B"</span>, <span class='st'>"ARM A"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>ARMCD</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span>(<span class='no'>ARMCD</span>))

<span class='no'>tbl</span> <span class='kw'>&lt;-</span> <span class='fu'>t_forest_tte</span>(
  <span class='kw'>tte</span> <span class='kw'>=</span> <span class='no'>ADTTE_f</span>$<span class='no'>AVAL</span>,
  <span class='kw'>is_event</span> <span class='kw'>=</span> <span class='no'>ADTTE_f</span>$<span class='no'>CNSR</span> <span class='kw'>==</span> <span class='fl'>0</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADTTE_f</span>$<span class='no'>ARMCD</span>,
  <span class='kw'>row_by_list</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span>(<span class='no'>ADTTE_f</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"SEX"</span>, <span class='st'>"RACE"</span>)]),
  <span class='kw'>ties</span> <span class='kw'>=</span> <span class='st'>"exact"</span>,
  <span class='kw'>dense_header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='no'>tbl</span></div><div class='output co'>#&gt;                                                                                         ARM A                                                          ARM B                                                                   
#&gt; Baseline Risk                                 Total                  n                 Events               Median                  n                 Events               Median               Hazard                 95%     
#&gt; Factors                                         n                                                           (month)                                                        (month)               Ratio               Wald CI   
#&gt; -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#&gt; ALL                                            274                  133                  86                  86.71                 141                  120                 84.59                1.06              (0.8, 1.4)  
#&gt; 
#&gt; SEX
#&gt;   F                                            147                  75                   49                  86.71                 72                   62                  93.15                1.03              (0.7, 1.5)  
#&gt;   M                                            119                  54                   35                  82.8                  65                   54                  72.34                0.97             (0.63, 1.51) 
#&gt;   U                                             5                    3                    1                                         2                    2                 222.76                2.12             (0.13, 35.36)
#&gt;   UNDIFFERENTIATED                              3                    1                    1                  93.61                  2                    2                  70.78                0.71             (0.04, 11.79)
#&gt; 
#&gt; RACE
#&gt;   ASIAN                                        156                  70                   40                  103.8                 86                   73                  78.96                1.38             (0.94, 2.04) 
#&gt;   BLACK OR AFRICAN AMERICAN                    56                   28                   21                  57.72                 28                   21                 131.43                0.63             (0.34, 1.18) 
#&gt;   WHITE                                        48                   26                   16                  63.05                 22                   21                  91.45                1.03             (0.52, 2.01) 
#&gt;   AMERICAN INDIAN OR ALASKA NATIVE             12                    7                    7                  94.67                  5                    5                  66.63                0.95             (0.27, 3.27) 
#&gt;   MULTIPLE                                      1                    1                    1                  0.69                   0                    0                                                          (NA, NA)   
#&gt;   OTHER                                         1                    1                    1                  32.66                  0                    0                                                          (NA, NA)   </div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'>Viewer</span>(<span class='no'>tbl</span>)
}

<span class='co'># table tree</span>
<span class='no'>tbls</span> <span class='kw'>&lt;-</span> <span class='fu'>t_forest_tte</span>(
  <span class='kw'>tte</span> <span class='kw'>=</span> <span class='no'>ADTTE_f</span>$<span class='no'>AVAL</span>,
  <span class='kw'>is_event</span> <span class='kw'>=</span> <span class='no'>ADTTE_f</span>$<span class='no'>CNSR</span> <span class='kw'>==</span> <span class='fl'>0</span>,
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='no'>ADTTE_f</span>$<span class='no'>ARMCD</span>,
  <span class='kw'>row_by_list</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span>(<span class='no'>ADTTE_f</span>[, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"SEX"</span>, <span class='st'>"RACE"</span>)]),
  <span class='kw'>ties</span> <span class='kw'>=</span> <span class='st'>"exact"</span>,
  <span class='kw'>dense_header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>table_tree</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>tbls</span>)</div><div class='output co'>#&gt;                                               index            content             dim            hide label          format  
#&gt; ------------------------------------------------------------------------------------------------------------------------------
#&gt; root                                                             NULL                                TRUE               1     
#&gt;   ALL                                           1               rtable            1 x 9              TRUE                     
#&gt;   SEX                                           2                NULL                               FALSE               0     
#&gt;     F                                          2, 1             rtable            1 x 9              TRUE               0     
#&gt;     M                                          2, 2             rtable            1 x 9              TRUE               0     
#&gt;     U                                          2, 3             rtable            1 x 9              TRUE               0     
#&gt;     UNDIFFERENTIATED                           2, 4             rtable            1 x 9              TRUE               0     
#&gt;   RACE                                          3                NULL                               FALSE               0     
#&gt;     ASIAN                                      3, 1             rtable            1 x 9              TRUE               0     
#&gt;     BLACK OR AFRICAN AMERICAN                  3, 2             rtable            1 x 9              TRUE               0     
#&gt;     WHITE                                      3, 3             rtable            1 x 9              TRUE               0     
#&gt;     AMERICAN INDIAN OR ALASKA NATIVE           3, 4             rtable            1 x 9              TRUE               0     
#&gt;     MULTIPLE                                   3, 5             rtable            1 x 9              TRUE               0     
#&gt;     OTHER                                      3, 6             rtable            1 x 9              TRUE               0     </div><div class='input'><span class='fu'><a href='to_rtable.html'>to_rtable</a></span>(<span class='no'>tbls</span>)</div><div class='output co'>#&gt;                                                                                         ARM A                                                          ARM B                                                                   
#&gt; Baseline Risk                                 Total                  n                 Events               Median                  n                 Events               Median               Hazard                 95%     
#&gt; Factors                                         n                                                           (month)                                                        (month)               Ratio               Wald CI   
#&gt; -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#&gt; ALL                                            274                  133                  86                  86.71                 141                  120                 84.59                1.06              (0.8, 1.4)  
#&gt; 
#&gt; SEX
#&gt;   F                                            147                  75                   49                  86.71                 72                   62                  93.15                1.03              (0.7, 1.5)  
#&gt;   M                                            119                  54                   35                  82.8                  65                   54                  72.34                0.97             (0.63, 1.51) 
#&gt;   U                                             5                    3                    1                                         2                    2                 222.76                2.12             (0.13, 35.36)
#&gt;   UNDIFFERENTIATED                              3                    1                    1                  93.61                  2                    2                  70.78                0.71             (0.04, 11.79)
#&gt; 
#&gt; RACE
#&gt;   ASIAN                                        156                  70                   40                  103.8                 86                   73                  78.96                1.38             (0.94, 2.04) 
#&gt;   BLACK OR AFRICAN AMERICAN                    56                   28                   21                  57.72                 28                   21                 131.43                0.63             (0.34, 1.18) 
#&gt;   WHITE                                        48                   26                   16                  63.05                 22                   21                  91.45                1.03             (0.52, 2.01) 
#&gt;   AMERICAN INDIAN OR ALASKA NATIVE             12                    7                    7                  94.67                  5                    5                  66.63                0.95             (0.27, 3.27) 
#&gt;   MULTIPLE                                      1                    1                    1                  0.69                   0                    0                                                          (NA, NA)   
#&gt;   OTHER                                         1                    1                    1                  32.66                  0                    0                                                          (NA, NA)   </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Yuyao Song (songy24) <a href='mailto:yuyao.song@roche.com'>yuyao.song@roche.com</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by NEST, Roche, Adrian Waddell, Maximilian Mordig, Heng Wang, Jennifer Li, Yuyao Song, Chendi Liao, Jana Stoilova, Edgar Manukyan, Ting Qi, Carolyn Zhang, Mark Rothe, Xiao Mu Yo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


