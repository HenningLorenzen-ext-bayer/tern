<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Response Table as used for Forest Plot — t_forest_rsp • tern</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Response Table as used for Forest Plot — t_forest_rsp" />

<meta property="og:description" content="The Response forest plot table summarizes response data by groups. The
function returns sample sizes and responder counts and response rates for
each analysis arm, as well as a odds ratio and the corresponding 95%
confidence interval from a univariate logistic model." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tern</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/missing-data.html">Missing Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start_releases -->
<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
Other releases
<span class="caret"></span></a><ul class="dropdown-menu" role="menu">
   <li><a href="../../index.html">latest</a></li>
   <li><a href="../../pre-release/index.html">pre-release</a></li>
   <li><a href="../../v0.7.5/index.html">v0.7.5</a></li>
   <li><a href="../../v0.7.4/index.html">v0.7.4</a></li>
   <li><a href="../../v0.7.3/index.html">v0.7.3</a></li>
   <li><a href="../../v0.7.1/index.html">v0.7.1</a></li>
   <li><a href="../../v0.7.0/index.html">v0.7.0</a></li>
   <li><a href="../../v0.6.9/index.html">v0.6.9</a></li>
   <li><a href="../../v0.6.8/index.html">v0.6.8</a></li>
   <li><a href="../../v0.6.7/index.html">v0.6.7</a></li>
   <li><a href="../../v0.6.6/index.html">v0.6.6</a></li>
   <li><a href="../../v0.6.5/index.html">v0.6.5</a></li>
   <li><a href="../../v0.6.4/index.html">v0.6.4</a></li>
   <li><a href="../../v0.6.2/index.html">v0.6.2</a></li>
   <li><a href="../../v0.6.1/index.html">v0.6.1</a></li>
   <li><a href="../../v0.6.0/index.html">v0.6.0</a></li>
   <li><a href="../../v0.5.0/index.html">v0.5.0</a></li>
</ul></li>
<!-- end_releases -->
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/NEST/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Response Table as used for Forest Plot</h1>
    
    <div class="hidden name"><code>t_forest_rsp.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The Response forest plot table summarizes response data by groups. The
function returns sample sizes and responder counts and response rates for
each analysis arm, as well as a odds ratio and the corresponding 95%
confidence interval from a univariate logistic model.</p>
    
    </div>

    <pre class="usage"><span class='fu'>t_forest_rsp</span>(<span class='no'>rsp</span>, <span class='no'>col_by</span>, <span class='kw'>group_data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>total</span> <span class='kw'>=</span> <span class='st'>"ALL"</span>,
  <span class='kw'>na.omit.group</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>dense_header</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rsp</th>
      <td><p>is a boolean vector. If <code>TRUE</code>, observation is a response,
otherwise, <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>col_by</th>
      <td><p>factor with reference and comparison group information, the
first <code>level</code> indicates the reference group</p></td>
    </tr>
    <tr>
      <th>group_data</th>
      <td><p>data frame with one variable per grouping</p></td>
    </tr>
    <tr>
      <th>total</th>
      <td><p>character with the row name of the analysis run on all data. If
<code>NULL</code> analysis is omitted.</p></td>
    </tr>
    <tr>
      <th>na.omit.group</th>
      <td><p>is boolean. Default is <code>TRUE</code>, do not display NA's as a category.</p></td>
    </tr>
    <tr>
      <th>dense_header</th>
      <td><p>Display the table headers in mulitple rows. Default is <code>FALSE</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <code><a href='https://www.rdocumentation.org/packages/rtables/topics/rtable'>rtable</a></code> object</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Logistic regression is used for odds ratio calculation.</p>
<p>Each row in the returned table contains the analysis statistics for a
subgroup of data (indicated by the row name). The summary table is consist of
the following 9 columns:</p>
<dl class='dl-horizontal'>
    <dt>1</dt><dd><p><em>Total n</em> the total number of subjects included in analysis
  population</p></dd>
    <dt>3-4</dt><dd><p>Summary of responders in reference arm, <em>n</em> and
  <em>Responders</em> are the total number of patients and the number of
  responders in reference arm, respectively. <code>Response.Rate</code> is the
  percentage of responders in reference arm.</p></dd>
    <dt>5-7</dt><dd><p>same statistics as for reference arm now for comparison arm</p></dd>
    <dt>8</dt><dd><p><em>Odds Ratio</em> ranges from 0 to infinity, estimated by applying
  univariate logistic regression. Binary response status (responder or
  non-responder) is the outcome and arm is the explanatory variable. Odds
  ratio greater than 1 indicates better performance in comparison arm; odds
  ratio less than 1 indicates better performance in reference arm.</p></dd>
    <dt>9</dt><dd><p><em>95 % CI</em> The 95<!-- % confidence interval indicates the level of -->
  uncertainty around the measure of effect (Odds Ratio). Because only a small
  sample of the overall population is included in the analysis, by having an
  upper and lower confidence limit we can infer that the true treatment
  effect lies in between. If the 95<!-- % confidence interval includes 1, then we -->
  say that the difference between two arms is not significant at a
  significance level of 0.05.</p></dd>
    </dl>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='t_rsp.html'>t_rsp</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>random.cdisc.data</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>dplyr</span>)

<span class='no'>ADSL</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/random.cdisc.data/topics/radsl'>radsl</a></span>(<span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='no'>ADSL</span>$<span class='st'>'FAKE Name &gt; -1.3 Flag'</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'Y'</span>, <span class='st'>'N'</span>), <span class='fl'>50</span>)

<span class='no'>ADRS</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/random.cdisc.data/topics/radrs'>radrs</a></span>(<span class='no'>ADSL</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>ADRS_f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='no'>ADRS</span>, <span class='no'>PARAMCD</span> <span class='kw'>==</span> <span class='st'>"BESRSPI"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>ARM</span> <span class='kw'>!=</span> <span class='st'>'C: Combination'</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>ARM</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/droplevels'>droplevels</a></span>(<span class='no'>ARM</span>))

<span class='no'>tbl</span> <span class='kw'>&lt;-</span> <span class='fu'>t_forest_rsp</span>(
  <span class='kw'>rsp</span> <span class='kw'>=</span> <span class='no'>ADRS_f</span>$<span class='no'>AVALC</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"CR"</span>, <span class='st'>"PR"</span>),
  <span class='kw'>col_by</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='no'>ADRS_f</span>$<span class='no'>ARM</span>),
  <span class='kw'>group_data</span> <span class='kw'>=</span> <span class='no'>ADRS_f</span>[, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"SEX"</span>, <span class='st'>"RACE"</span>, <span class='st'>"FAKE Name &gt; -1.3 Flag"</span>)]
)

<span class='no'>tbl</span></div><div class='output co'>#&gt;                                                                                                A: Drug X                                                     B: Placebo                                                                 
#&gt; Baseline Risk Factors                                 Total n                 n               Responders          Response.Rate              n               Responders          Response.Rate         Odds Ratio             95% CI    
#&gt; ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#&gt; ALL                                                     275                  142                  137                 0.96                  133                  87                  0.65                 0.07             (0.02, 0.17) 
#&gt; 
#&gt; SEX
#&gt;   F                                                     136                  69                   66                  0.96                  67                   44                  0.66                 0.09             (0.02, 0.27) 
#&gt;   M                                                     131                  68                   66                  0.97                  63                   40                  0.63                 0.05             (0.01, 0.19) 
#&gt;   U                                                      5                    2                    2                    1                    3                    3                    1                    1                (NA, NA)   
#&gt;   UNDIFFERENTIATED                                       3                    3                    3                    1                    0                    0                   NaN                                    (NA, NA)   
#&gt; 
#&gt; RACE
#&gt;   ASIAN                                                 166                  92                   89                  0.97                  74                   51                  0.69                 0.07             (0.02, 0.23) 
#&gt;   BLACK OR AFRICAN AMERICAN                             56                   26                   26                    1                   30                   18                   0.6                   0              (NA, &gt;999.9) 
#&gt;   WHITE                                                 37                   18                   16                  0.89                  19                   11                  0.58                 0.17             (0.02, 0.84) 
#&gt;   AMERICAN INDIAN OR ALASKA NATIVE                      12                    4                    4                    1                    8                    5                  0.62                   0              (NA, &gt;999.9) 
#&gt;   MULTIPLE                                               1                    0                    0                   NaN                   1                    1                    1                                     (NA, NA)   
#&gt;   NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER              2                    2                    2                    1                    0                    0                   NaN                                    (NA, NA)   
#&gt;   OTHER                                                  0                    0                    0                   NaN                   0                    0                   NaN                                    (NA, NA)   
#&gt;   UNKNOWN                                                1                    0                    0                   NaN                   1                    1                    1                                     (NA, NA)   
#&gt; 
#&gt; FAKE Name &gt; -1.3 Flag
#&gt;   N                                                     137                  69                   67                  0.97                  68                   42                  0.62                 0.05             (0.01, 0.17) 
#&gt;   Y                                                     138                  73                   70                  0.96                  65                   45                  0.69                  0.1              (0.02, 0.3) </div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='fu'>Viewer</span>(<span class='no'>tbl</span>)
<span class='co'># }</span><div class='input'>   
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Yuyao Song (songy24) <a href='mailto:yuyao.song@roche.com'>yuyao.song@roche.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Adrian Waddell, Heng Wang, Yuyao Song, Chendi Liao, Jana Stoilova, Edgar Manukyan, Ting Qi, Carolyn Zhang, Mark Rothe, Xiao Mu Yo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

