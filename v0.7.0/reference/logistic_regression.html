<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Multi-variable logistic regression table — logistic_regression • tern</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Multi-variable logistic regression table — logistic_regression" />
<meta property="og:description" content="Logistic regression for binary outcome with categorical/continuous covariates in model statement.
For each covariate category (if categorical) or specified values (if continuous), present degrees of freedom,
regression parameter estimate and standard error (SE) relative to reference group or category.
Report odds ratios for each covariate category or specified values and corresponding Wald
confidence intervals as default but allow user to specify other confidence levels.
Report p-value for Wald chi-square test of the null hypothesis that covariate has no effect on
response in model containing all specified covariates.
Allow option to include one two-way interaction and present similar output for
each interaction degree of freedom.
Note: For glm formula, the variable names need to be standard dataframe column name without
special characters." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tern</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start_releases -->
<li class="dropdown">
	<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
Other releases
<span class="caret"></span></a><ul class="dropdown-menu" role="menu">
   <li><a href="../../index.html">latest</a></li>
   <li><a href="../../pre-release/index.html">pre-release</a></li>
   <li><a href="../../v0.7.5/index.html">v0.7.5</a></li>
   <li><a href="../../v0.7.4/index.html">v0.7.4</a></li>
   <li><a href="../../v0.7.3/index.html">v0.7.3</a></li>
   <li><a href="../../v0.7.1/index.html">v0.7.1</a></li>
   <li><a href="../../v0.7.0/index.html">v0.7.0</a></li>
   <li><a href="../../v0.6.9/index.html">v0.6.9</a></li>
   <li><a href="../../v0.6.8/index.html">v0.6.8</a></li>
   <li><a href="../../v0.6.7/index.html">v0.6.7</a></li>
   <li><a href="../../v0.6.6/index.html">v0.6.6</a></li>
   <li><a href="../../v0.6.5/index.html">v0.6.5</a></li>
   <li><a href="../../v0.6.4/index.html">v0.6.4</a></li>
   <li><a href="../../v0.6.2/index.html">v0.6.2</a></li>
   <li><a href="../../v0.6.1/index.html">v0.6.1</a></li>
   <li><a href="../../v0.6.0/index.html">v0.6.0</a></li>
   <li><a href="../../v0.5.0/index.html">v0.5.0</a></li>
</ul></li>
<!-- end_releases -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/NEST/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Multi-variable logistic regression table</h1>
    
    <div class="hidden name"><code>logistic_regression.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Logistic regression for binary outcome with categorical/continuous covariates in model statement.
For each covariate category (if categorical) or specified values (if continuous), present degrees of freedom,
regression parameter estimate and standard error (SE) relative to reference group or category.
Report odds ratios for each covariate category or specified values and corresponding Wald
confidence intervals as default but allow user to specify other confidence levels.
Report p-value for Wald chi-square test of the null hypothesis that covariate has no effect on
response in model containing all specified covariates.
Allow option to include one two-way interaction and present similar output for
each interaction degree of freedom.
Note: For <code>glm</code> formula, the variable names need to be standard dataframe column name without
special characters.</p>
    </div>

    <pre class="usage"><span class='fu'>fit_logistic</span>(
  <span class='no'>data</span>,
  <span class='kw'>variables</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>response</span> <span class='kw'>=</span> <span class='st'>"Response"</span>, <span class='kw'>arm</span> <span class='kw'>=</span> <span class='st'>"ARMCD"</span>, <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>interaction</span>
    <span class='kw'>=</span> <span class='kw'>NULL</span>),
  <span class='kw'>response_definition</span> <span class='kw'>=</span> <span class='st'>"response"</span>
)

<span class='fu'>h_get_interaction_vars</span>(<span class='no'>fit_glm</span>)

<span class='fu'>h_interaction_coef_name</span>(
  <span class='no'>interaction_vars</span>,
  <span class='no'>first_var_with_level</span>,
  <span class='no'>second_var_with_level</span>
)

<span class='fu'>h_or_cat_interaction</span>(
  <span class='no'>odds_ratio_var</span>,
  <span class='no'>interaction_var</span>,
  <span class='no'>fit_glm</span>,
  <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>
)

<span class='fu'>h_or_cont_interaction</span>(
  <span class='no'>odds_ratio_var</span>,
  <span class='no'>interaction_var</span>,
  <span class='no'>fit_glm</span>,
  <span class='kw'>at</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>
)

<span class='fu'>h_or_interaction</span>(
  <span class='no'>odds_ratio_var</span>,
  <span class='no'>interaction_var</span>,
  <span class='no'>fit_glm</span>,
  <span class='kw'>at</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>
)

<span class='fu'>h_simple_term_labels</span>(<span class='no'>terms</span>, <span class='no'>table</span>)

<span class='fu'>h_interaction_term_labels</span>(<span class='no'>terms1</span>, <span class='no'>terms2</span>, <span class='no'>table</span>, <span class='kw'>any</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>h_glm_simple_term_extract</span>(<span class='no'>x</span>, <span class='no'>fit_glm</span>)

<span class='fu'>h_glm_interaction_extract</span>(<span class='no'>x</span>, <span class='no'>fit_glm</span>)

<span class='fu'>h_glm_inter_term_extract</span>(<span class='no'>odds_ratio_var</span>, <span class='no'>interaction_var</span>, <span class='no'>fit_glm</span>, <span class='no'>...</span>)

<span class='fu'>h_logistic_simple_terms</span>(<span class='no'>x</span>, <span class='no'>fit_glm</span>, <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>)

<span class='fu'>h_logistic_inter_terms</span>(<span class='no'>x</span>, <span class='no'>fit_glm</span>, <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for glm</span>
<span class='fu'>tidy</span>(<span class='no'>fit_glm</span>, <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>logistic_regression_cols</span>(<span class='no'>lyt</span>, <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>)

<span class='fu'>logistic_summary_by_flag</span>(<span class='no'>flag_var</span>)

<span class='fu'>summarize_logistic</span>(<span class='no'>lyt</span>, <span class='no'>conf_level</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>(<code>data frame</code>)<br /> the data frame on which the model was fit.</p></td>
    </tr>
    <tr>
      <th>variables</th>
      <td><p>(named <code>list</code> of <code>string</code>)<br /> list of additional analysis variables.</p></td>
    </tr>
    <tr>
      <th>response_definition</th>
      <td><p>(<code>string</code>)<br /> the definition of what an event is in terms of <code>response</code>.
This will be used when fitting the logistic regression model on the left hand side of the formula.</p></td>
    </tr>
    <tr>
      <th>fit_glm</th>
      <td><p>logistic regression model fitted by <code><a href='https://rdrr.io/r/stats/glm.html'>stats::glm()</a></code> with "binomial" family.</p></td>
    </tr>
    <tr>
      <th>interaction_vars</th>
      <td><p>(<code>character</code> of length 2)<br /> interaction variable names.</p></td>
    </tr>
    <tr>
      <th>first_var_with_level</th>
      <td><p>(<code>character</code> of length 2)<br /> the first variable name with
the interaction level.</p></td>
    </tr>
    <tr>
      <th>second_var_with_level</th>
      <td><p>(<code>character</code> of length 2)<br /> the second variable name with
the interaction level.</p></td>
    </tr>
    <tr>
      <th>odds_ratio_var</th>
      <td><p>(<code>string</code>)<br /> the odds ratio variable.</p></td>
    </tr>
    <tr>
      <th>interaction_var</th>
      <td><p>(<code>string</code>)<br /> the interaction variable.</p></td>
    </tr>
    <tr>
      <th>conf_level</th>
      <td><p>(<code>proportion</code>)<br /> confidence level of the interval.</p></td>
    </tr>
    <tr>
      <th>at</th>
      <td><p>(<code>NULL</code> or <code>numeric</code>)<br /> optional values for the interaction variable. Otherwise
the median is used.</p></td>
    </tr>
    <tr>
      <th>terms</th>
      <td><p>(<code>character</code>)<br /> simple terms.</p></td>
    </tr>
    <tr>
      <th>table</th>
      <td><p>(<code>table</code>)<br /> table containing numbers for terms.</p></td>
    </tr>
    <tr>
      <th>terms1</th>
      <td><p>(<code>character</code>)<br /> terms for first dimension (rows).</p></td>
    </tr>
    <tr>
      <th>terms2</th>
      <td><p>(<code>character</code>)<br /> terms for second dimension (rows).</p></td>
    </tr>
    <tr>
      <th>any</th>
      <td><p>(<code>flag</code>)<br /> whether any of <code>term1</code> and <code>term2</code> can be fulfilled to count the
number of patients. In that case they can only be scalar (strings).</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>(<code>string</code> or <code>character</code>)<br /> a variable or interaction term in <code>fit_glm</code> (depending on the
helper function).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments for the lower level functions.</p></td>
    </tr>
    <tr>
      <th>lyt</th>
      <td><p>(<code>layout</code>)<br /> input layout where analyses will be added to.</p></td>
    </tr>
    <tr>
      <th>flag_var</th>
      <td><p>(<code>string</code>)<br /> variable name identifying which row should be used in this
content function.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>fit_logistic</code>: Fit a logistic regression model.</p></li>
<li><p><code>h_get_interaction_vars</code>: Helper function to extract interaction variable names from a fitted
model assuming only one interaction term.</p></li>
<li><p><code>h_interaction_coef_name</code>: Helper function to get the right coefficient name from the
interaction variable names and the given levels. The main value here is that the order
of first and second variable is checked in the <code>interaction_vars</code> input.</p></li>
<li><p><code>h_or_cat_interaction</code>: Helper function to calculate the odds ratio estimates
for the case when both the odds ratio and the interaction variable are categorical.</p></li>
<li><p><code>h_or_cont_interaction</code>: Helper function to calculate the odds ratio estimates
for the case when either the odds ratio or the interaction variable is continuous.</p></li>
<li><p><code>h_or_interaction</code>: Helper function to calculate the odds ratio estimates
in case of an interaction. This is a wrapper for <code>h_or_cont_interaction()</code> and
<code>h_or_cat_interaction()</code>.</p></li>
<li><p><code>h_simple_term_labels</code>: Helper function to construct term labels from simple terms and the table
of numbers of patients.</p></li>
<li><p><code>h_interaction_term_labels</code>: Helper function to construct term labels from interaction terms and the table
of numbers of patients.</p></li>
<li><p><code>h_glm_simple_term_extract</code>: Helper function to tabulate the main effect
results of a logistic regression model.</p></li>
<li><p><code>h_glm_interaction_extract</code>: Helper function to tabulate the interaction term
results of a logistic regression model.</p></li>
<li><p><code>h_glm_inter_term_extract</code>: Helper function to tabulate the interaction
results of a logistic regression model. This basically is a wrapper for
<code>h_or_interaction()</code> and <code>h_glm_simple_term_extract()</code> which puts the results
in the right data frame format.</p></li>
<li><p><code>h_logistic_simple_terms</code>: Helper function to tabulate the results including
odds ratios and confidence intervals of simple terms.</p></li>
<li><p><code>h_logistic_inter_terms</code>: Helper function to tabulate the results including
odds ratios and confidence intervals of interaction terms.</p></li>
<li><p><code>tidy.glm</code>: Helper method (for <code><a href='https://rdrr.io/pkg/broom/man/reexports.html'>broom::tidy()</a></code>) to prepare a data frame from an
<code>glm</code> object with <code>binomial</code> family.</p></li>
<li><p><code>logistic_regression_cols</code>: Layout creating function for a multi-variable column layout summarizing
logistic regression results.</p></li>
<li><p><code>logistic_summary_by_flag</code>: Constructor for content functions to be used to summarize
logistic regression results.</p></li>
<li><p><code>summarize_logistic</code>: Layout creating function which summarizes a logistic variable regression.</p></li>
</ul>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>We don't provide a function for the case when both variables are continuous because
this does not arise in this table, as the treatment arm variable will always be involved
and categorical.</p>
    <h2 class="hasAnchor" id="model-specification"><a class="anchor" href="#model-specification"></a>Model Specification</h2>

    


<p>The <code>variables</code> list needs to include the following elements:<br /></p><ul>
<li><p><code>arm</code>: usual treatment arm variable name.</p></li>
<li><p><code>response</code>: the response arm variable name. Usually this is a 0/1 variable.</p></li>
<li><p><code>covariates</code>: this is either <code>NULL</code> (no covariates) or
a character vector of covariate variable names.</p></li>
<li><p><code>interaction</code>: this is either <code>NULL</code> (no interaction) or a string of a single
covariate variable name already included in <code>covariates</code>. Then the interaction
with the treatment arm is included in the model.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>random.cdisc.data</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)

<span class='no'>adrs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/random.cdisc.data/man/radrs.html'>radrs</a></span>(<span class='kw'>cached</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>adrs_f</span> <span class='kw'>&lt;-</span> <span class='no'>adrs</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>PARAMCD</span> <span class='kw'>==</span> <span class='st'>"BESRSPI"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>RACE</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ASIAN"</span>, <span class='st'>"WHITE"</span>, <span class='st'>"BLACK OR AFRICAN AMERICAN"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(
    <span class='kw'>Response</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span>(<span class='no'>AVALC</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"PR"</span>, <span class='st'>"CR"</span>) ~ <span class='fl'>1</span>, <span class='fl'>TRUE</span> ~ <span class='fl'>0</span>),
    <span class='kw'>RACE</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>RACE</span>),
    <span class='kw'>SEX</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>SEX</span>)
  )
<span class='fu'>var_labels</span>(<span class='no'>adrs_f</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'>var_labels</span>(<span class='no'>adrs</span>), <span class='kw'>Response</span> <span class='kw'>=</span> <span class='st'>"Response"</span>)
<span class='no'>mod1</span> <span class='kw'>&lt;-</span> <span class='fu'>fit_logistic</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>adrs_f</span>,
  <span class='kw'>variables</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>response</span> <span class='kw'>=</span> <span class='st'>"Response"</span>,
    <span class='kw'>arm</span> <span class='kw'>=</span> <span class='st'>"ARMCD"</span>,
    <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"AGE"</span>, <span class='st'>"RACE"</span>)
  )
)
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='fu'>fit_logistic</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>adrs_f</span>,
  <span class='kw'>variables</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>response</span> <span class='kw'>=</span> <span class='st'>"Response"</span>,
    <span class='kw'>arm</span> <span class='kw'>=</span> <span class='st'>"ARMCD"</span>,
    <span class='kw'>covariates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"AGE"</span>, <span class='st'>"RACE"</span>),
    <span class='kw'>interaction</span> <span class='kw'>=</span> <span class='st'>"AGE"</span>
  )
)

<span class='fu'>h_glm_simple_term_extract</span>(<span class='st'>"AGE"</span>, <span class='no'>mod1</span>)</div><div class='output co'>#&gt;   variable variable_label term term_label interaction interaction_label
#&gt; 1      AGE            Age  AGE        Age                              
#&gt;   reference reference_label   estimate  std_error df    pvalue
#&gt; 1                           0.06746155 0.05343377  1 0.2067594
#&gt;   is_variable_summary is_term_summary
#&gt; 1               FALSE            TRUE</div><div class='input'><span class='fu'>h_glm_simple_term_extract</span>(<span class='st'>"ARMCD"</span>, <span class='no'>mod1</span>)</div><div class='output co'>#&gt;   variable   variable_label  term               term_label interaction
#&gt; 1    ARMCD Planned Arm Code ARM A Reference ARM A, n = 126            
#&gt; 2    ARMCD Planned Arm Code ARM B           ARM B, n = 121            
#&gt; 3    ARMCD Planned Arm Code ARM C           ARM C, n = 126            
#&gt;   interaction_label reference reference_label   estimate std_error df
#&gt; 1                                                                   2
#&gt; 2                                              -2.154975  1.083761  1
#&gt; 3                                             -0.1274995  1.424796  1
#&gt;       pvalue is_variable_summary is_term_summary
#&gt; 1 0.03677249                TRUE           FALSE
#&gt; 2 0.04676489               FALSE            TRUE
#&gt; 3  0.9286955               FALSE            TRUE</div><div class='input'>
<span class='fu'>h_glm_interaction_extract</span>(<span class='st'>"ARMCD:AGE"</span>, <span class='no'>mod2</span>)</div><div class='output co'>#&gt;    variable                        variable_label  term
#&gt; 1 ARMCD:AGE Interaction of Planned Arm Code * Age ARM A
#&gt; 2 ARMCD:AGE Interaction of Planned Arm Code * Age ARM B
#&gt; 3 ARMCD:AGE Interaction of Planned Arm Code * Age ARM C
#&gt;                 term_label interaction interaction_label reference
#&gt; 1 Reference ARM A, n = 126                                        
#&gt; 2           ARM B, n = 121                                        
#&gt; 3           ARM C, n = 126                                        
#&gt;   reference_label   estimate std_error df    pvalue is_variable_summary
#&gt; 1                                       2 0.2306204                TRUE
#&gt; 2                 -0.8682313 0.6298379  1 0.1680491               FALSE
#&gt; 3                  -0.617569 0.6714418  1 0.3576953               FALSE
#&gt;   is_term_summary
#&gt; 1           FALSE
#&gt; 2            TRUE
#&gt; 3            TRUE</div><div class='input'>
<span class='fu'>h_glm_inter_term_extract</span>(<span class='st'>"AGE"</span>, <span class='st'>"ARMCD"</span>, <span class='no'>mod2</span>)</div><div class='output co'>#&gt;   variable variable_label term term_label interaction interaction_label
#&gt; 1      AGE            Age  AGE        Age                              
#&gt; 2      AGE            Age  AGE        Age       ARMCD  Planned Arm Code
#&gt; 3      AGE            Age  AGE        Age       ARMCD  Planned Arm Code
#&gt; 4      AGE            Age  AGE        Age       ARMCD  Planned Arm Code
#&gt;   reference reference_label  estimate std_error odds_ratio       lcl      ucl
#&gt; 1                           0.8959838 0.6294275         NA        NA       NA
#&gt; 2     ARM A           ARM A        NA        NA   2.449745 0.7134297 8.411829
#&gt; 3     ARM B           ARM B        NA        NA   1.028141 0.9286094 1.138341
#&gt; 4     ARM C           ARM C        NA        NA   1.321034 0.8307684 2.100622
#&gt;   df    pvalue is_variable_summary is_term_summary is_reference_summary
#&gt; 1  1 0.1545941               FALSE            TRUE                FALSE
#&gt; 2 NA        NA               FALSE           FALSE                 TRUE
#&gt; 3 NA        NA               FALSE           FALSE                 TRUE
#&gt; 4 NA        NA               FALSE           FALSE                 TRUE</div><div class='input'>
<span class='fu'>h_logistic_simple_terms</span>(<span class='st'>"AGE"</span>, <span class='no'>mod1</span>)</div><div class='output co'>#&gt;   variable variable_label term term_label interaction interaction_label
#&gt; 1      AGE            Age  AGE        Age                              
#&gt;   reference reference_label   estimate  std_error df    pvalue
#&gt; 1                           0.06746155 0.05343377  1 0.2067594
#&gt;   is_variable_summary is_term_summary odds_ratio       lcl      ucl
#&gt; 1               FALSE            TRUE   1.069789 0.9634191 1.187903
#&gt;                     ci
#&gt; 1 0.9634191, 1.1879033</div><div class='input'>
<span class='fu'>h_logistic_inter_terms</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"RACE"</span>, <span class='st'>"AGE"</span>, <span class='st'>"ARMCD"</span>, <span class='st'>"AGE:ARMCD"</span>), <span class='no'>mod2</span>)</div><div class='output co'>#&gt;        variable                        variable_label                      term
#&gt; 1          RACE                                  Race                     ASIAN
#&gt; 2          RACE                                  Race BLACK OR AFRICAN AMERICAN
#&gt; 3          RACE                                  Race                     WHITE
#&gt; 13        ARMCD                      Planned Arm Code                     ARM A
#&gt; 23        ARMCD                      Planned Arm Code                     ARM B
#&gt; ARM B     ARMCD                      Planned Arm Code                     ARM B
#&gt; 33        ARMCD                      Planned Arm Code                     ARM C
#&gt; ARM C     ARMCD                      Planned Arm Code                     ARM C
#&gt; 11          AGE                                   Age                       AGE
#&gt; 21          AGE                                   Age                       AGE
#&gt; 31          AGE                                   Age                       AGE
#&gt; 4           AGE                                   Age                       AGE
#&gt; 12    AGE:ARMCD Interaction of Planned Arm Code * Age                     ARM A
#&gt; 22    AGE:ARMCD Interaction of Planned Arm Code * Age                     ARM B
#&gt; 32    AGE:ARMCD Interaction of Planned Arm Code * Age                     ARM C
#&gt;                              term_label interaction interaction_label reference
#&gt; 1              Reference ASIAN, n = 208                                        
#&gt; 2     BLACK OR AFRICAN AMERICAN, n = 91                                        
#&gt; 3                         WHITE, n = 74                                        
#&gt; 13             Reference ARM A, n = 126                                        
#&gt; 23                       ARM B, n = 121                                        
#&gt; ARM B                    ARM B, n = 121         AGE               Age        34
#&gt; 33                       ARM C, n = 126                                        
#&gt; ARM C                    ARM C, n = 126         AGE               Age        34
#&gt; 11                                  Age                                        
#&gt; 21                                  Age       ARMCD  Planned Arm Code     ARM A
#&gt; 31                                  Age       ARMCD  Planned Arm Code     ARM B
#&gt; 4                                   Age       ARMCD  Planned Arm Code     ARM C
#&gt; 12             Reference ARM A, n = 126                                        
#&gt; 22                       ARM B, n = 121                                        
#&gt; 32                       ARM C, n = 126                                        
#&gt;       reference_label   estimate std_error df    pvalue   odds_ratio
#&gt; 1                                           2 0.6027443             
#&gt; 2                       1.078888  1.136031  1  0.342265     2.941406
#&gt; 3                      0.4554458 0.8997603  1 0.6127263     1.576876
#&gt; 13                                          2 0.2890228           NA
#&gt; 23                      20.23523   14.7874  1 0.1711835           NA
#&gt; ARM B              34         NA        NA NA        NA 9.284028e-05
#&gt; 33                      14.71317  16.08665  1  0.360391           NA
#&gt; ARM C              34         NA        NA NA        NA  0.001865597
#&gt; 11                     0.8959838 0.6294275  1 0.1545941           NA
#&gt; 21              ARM A         NA        NA NA        NA     2.449745
#&gt; 31              ARM B         NA        NA NA        NA     1.028141
#&gt; 4               ARM C         NA        NA NA        NA     1.321034
#&gt; 12                                         NA        NA           NA
#&gt; 22                    -0.8682313 0.6298379  1 0.1680491           NA
#&gt; 32                     -0.617569 0.6714418  1 0.3576953           NA
#&gt;                lcl      ucl is_variable_summary is_term_summary
#&gt; 1                                          TRUE           FALSE
#&gt; 2        0.3173685 27.26127               FALSE            TRUE
#&gt; 3        0.2703462  9.19761               FALSE            TRUE
#&gt; 13              NA       NA                TRUE           FALSE
#&gt; 23              NA       NA               FALSE            TRUE
#&gt; ARM B 1.483171e-10 58.11413               FALSE           FALSE
#&gt; 33              NA       NA               FALSE            TRUE
#&gt; ARM C 1.831536e-09 1900.293               FALSE           FALSE
#&gt; 11              NA       NA               FALSE            TRUE
#&gt; 21       0.7134297 8.411829               FALSE           FALSE
#&gt; 31       0.9286094 1.138341               FALSE           FALSE
#&gt; 4        0.8307684 2.100622               FALSE           FALSE
#&gt; 12              NA       NA                TRUE           FALSE
#&gt; 22              NA       NA               FALSE            TRUE
#&gt; 32              NA       NA               FALSE            TRUE
#&gt;       is_reference_summary                         ci
#&gt; 1                    FALSE                           
#&gt; 2                    FALSE      0.3173685, 27.2612702
#&gt; 3                    FALSE       0.2703462, 9.1976100
#&gt; 13                   FALSE                     NA, NA
#&gt; 23                   FALSE                     NA, NA
#&gt; ARM B                 TRUE 1.483171e-10, 5.811413e+01
#&gt; 33                   FALSE                     NA, NA
#&gt; ARM C                 TRUE 1.831536e-09, 1.900293e+03
#&gt; 11                   FALSE                     NA, NA
#&gt; 21                    TRUE       0.7134297, 8.4118289
#&gt; 31                    TRUE       0.9286094, 1.1383411
#&gt; 4                     TRUE       0.8307684, 2.1006225
#&gt; 12                   FALSE                     NA, NA
#&gt; 22                   FALSE                     NA, NA
#&gt; 32                   FALSE                     NA, NA</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>broom</span>)
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/broom/man/reexports.html'>tidy</a></span>(<span class='no'>mod1</span>, <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.99</span>)
<span class='no'>df2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/broom/man/reexports.html'>tidy</a></span>(<span class='no'>mod2</span>, <span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.99</span>)

<span class='no'>result1</span> <span class='kw'>&lt;-</span> <span class='fu'>basic_table</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>summarize_logistic</span>(<span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>build_table</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>df</span>)
<span class='no'>result1</span></div><div class='output co'>#&gt;                                       Degrees of Freedom   Parameter Estimate   Standard Error   Odds Ratio    Wald 95% CI    p-value
#&gt; -------------------------------------------------------------------------------------------------------------------------------------
#&gt; Planned Arm Code                              2                                                                               0.0368 
#&gt;   Reference ARM A, n = 126                                                                                                           
#&gt;   ARM B, n = 121                              1                  -2.155             1.084           0.12      (&lt;0.01, 1.89)   0.0468 
#&gt;   ARM C, n = 126                              1                  -0.127             1.425           0.88      (0.02, 34.55)   0.9287 
#&gt; Age                                                                                                                                  
#&gt;   Age                                         1                  0.067              0.053           1.07      (0.93, 1.23)    0.2068 
#&gt; Race                                          2                                                                               0.6369 
#&gt;   Reference ASIAN, n = 208                                                                                                           
#&gt;   BLACK OR AFRICAN AMERICAN, n = 91           1                  1.027              1.098           2.79      (0.17, 47.24)   0.3498 
#&gt;   WHITE, n = 74                               1                  0.294               0.85           1.34      (0.15, 11.99)   0.7294 </div><div class='input'>
<span class='no'>result2</span> <span class='kw'>&lt;-</span> <span class='fu'>basic_table</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>summarize_logistic</span>(<span class='kw'>conf_level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>build_table</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>df2</span>)
<span class='no'>result2</span></div><div class='output co'>#&gt;                                         Degrees of Freedom   Parameter Estimate   Standard Error   Odds Ratio     Wald 95% CI      p-value
#&gt; ------------------------------------------------------------------------------------------------------------------------------------------
#&gt; Race                                            2                                                                                  0.6027 
#&gt;   Reference ASIAN, n = 208                                                                                                                
#&gt;   BLACK OR AFRICAN AMERICAN, n = 91             1                  1.079              1.136           2.94       (0.16, 54.88)     0.3423 
#&gt;   WHITE, n = 74                                 1                  0.455               0.9            1.58       (0.16, 16.01)     0.6127 
#&gt; Planned Arm Code                                2                                                                                  0.2890 
#&gt;   Reference ARM A, n = 126                                                                                                                
#&gt;   ARM B, n = 121                                1                  20.235             14.787                                       0.1712 
#&gt;     Age                                                                                                                                   
#&gt;       34                                                                                               0        (&lt;0.01, &gt;999.99)          
#&gt;   ARM C, n = 126                                1                  14.713             16.087                                       0.3604 
#&gt;     Age                                                                                                                                   
#&gt;       34                                                                                               0        (&lt;0.01, &gt;999.99)          
#&gt; Age                                                                                                                                       
#&gt;   Age                                           1                  0.896              0.629                                        0.1546 
#&gt;     Planned Arm Code                                                                                                                      
#&gt;       ARM A                                                                                           2.45       (0.48, 12.39)            
#&gt;       ARM B                                                                                           1.03        (0.90, 1.18)            
#&gt;       ARM C                                                                                           1.32        (0.72, 2.43)            
#&gt; Interaction of Planned Arm Code * Age           2                                                                                  0.2306 
#&gt;   Reference ARM A, n = 126                                                                                                                
#&gt;   ARM B, n = 121                                1                  -0.868              0.63                                        0.1680 
#&gt;   ARM C, n = 126                                1                  -0.618             0.671                                        0.3577 </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by NEST, Roche, Saibah Chohan, Francois Collin, Nick Paszty, Ting Qi, Daniel Sabanes Bove, Jana Stoilova, Adrian Waddell, Heng Wang, Godwin Yung, Carreras Maximo, Zhao Rui.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


