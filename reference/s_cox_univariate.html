<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cox regression including a single covariate - summarized results — s_cox_univariate • tern</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cox regression including a single covariate - summarized results — s_cox_univariate" />
<meta property="og:description" content="Fit cox (proportional hazard) regression models including the treatment and a single covariate.
Starting from a univariate model (e.g. survival model including an two-level arm predictor), a list of candidate
alternative models including an additional covariate (optionally including the interaction terms) is tested." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tern</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction to tern</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start_releases -->
<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
Other releases
<span class="caret"></span></a><ul class="dropdown-menu" role="menu">
   <li><a href="../index.html">latest</a></li>
   <li><a href="../v0.7.4/index.html">v0.7.4</a></li>
   <li><a href="../v0.7.3/index.html">v0.7.3</a></li>
   <li><a href="../v0.7.1/index.html">v0.7.1</a></li>
   <li><a href="../v0.7.0/index.html">v0.7.0</a></li>
   <li><a href="../v0.6.9/index.html">v0.6.9</a></li>
   <li><a href="../v0.6.8/index.html">v0.6.8</a></li>
   <li><a href="../v0.6.7/index.html">v0.6.7</a></li>
   <li><a href="../v0.6.6/index.html">v0.6.6</a></li>
   <li><a href="../v0.6.5/index.html">v0.6.5</a></li>
   <li><a href="../v0.6.4/index.html">v0.6.4</a></li>
   <li><a href="../v0.6.2/index.html">v0.6.2</a></li>
   <li><a href="../v0.6.1/index.html">v0.6.1</a></li>
   <li><a href="../v0.6.0/index.html">v0.6.0</a></li>
   <li><a href="../v0.5.0/index.html">v0.5.0</a></li>
</ul></li>
<!-- end_releases -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/insightsengineering/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cox regression including a single covariate - summarized results</h1>
    <small class="dont-index">Source: <a href='https://github.com/insightsengineering/tern/blob/master/R/coxph.R'><code>R/coxph.R</code></a></small>
    <div class="hidden name"><code>s_cox_univariate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fit cox (proportional hazard) regression models including the treatment and a single covariate.
Starting from a univariate model (e.g. survival model including an two-level arm predictor), a list of candidate
alternative models including an additional covariate (optionally including the interaction terms) is tested.</p>
    </div>

    <pre class="usage"><span class='fu'>s_cox_univariate</span><span class='op'>(</span>
  <span class='va'>formula</span>,
  <span class='va'>data</span>,
  <span class='va'>covariates</span>,
  interactions <span class='op'>=</span> <span class='cn'>FALSE</span>,
  conf_level <span class='op'>=</span> <span class='fl'>0.95</span>,
  pval_method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"wald"</span>, <span class='st'>"likelihood"</span><span class='op'>)</span>,
  increments <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>(<code>formula</code>) <br />
Specifies <code><a href='https://rdrr.io/pkg/survival/man/Surv.html'>survival model</a></code>.
The arm variable needs to be wrapped in <code><a href='arm.html'>arm</a></code>. The
<code><a href='https://rdrr.io/pkg/survival/man/strata.html'>strata</a></code> special will only be used for the stratified analysis. If there is not
<code><a href='https://rdrr.io/pkg/survival/man/strata.html'>strata</a></code> specification then the stratified analysis is omitted.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A <code>data.frame</code> which includes the variable in formula and covariate</p></td>
    </tr>
    <tr>
      <th>covariates</th>
      <td><p>a list of single right-hand-term formulas, if named, named will be used in the output</p></td>
    </tr>
    <tr>
      <th>interactions</th>
      <td><p>The interaction term should be included, default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>conf_level</th>
      <td><p>The level of confidence for the hazard ration interval estimations. Default is 0.95.</p></td>
    </tr>
    <tr>
      <th>pval_method</th>
      <td><p>The method used for estimation of p.values, should be one of <code>"wald"</code> (default) or
<code>"likelihood"</code>.</p></td>
    </tr>
    <tr>
      <th>increments</th>
      <td><p>If a quantitative variable is included, it is possible to provide the expected level of estimation
for the interaction. Should then be list, item are vector specifying levels, the item are named after the
covariate name as it appears in covariate formula.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>parameters passed down to <code><a href='https://rdrr.io/pkg/survival/man/coxph.html'>coxph()</a></code></p><ul>
<li><p><code>ties</code> a character string specifying the method for tie handling, one of <code>exact</code> (default), <code>efron</code>, <code>breslow</code>.</p></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with items:</p><dl>
<dt>n</dt><dd><p>the number of observations used for cox regression fit.</p></dd>
<dt>hr</dt><dd><p>hazard ratios of the arm.</p></dd>
<dt>ci</dt><dd><p>confidence interval of the estimated arm hazard ratio.</p></dd>
<dt>pval</dt><dd><p>p.value of the arm depending on the covariate included in the model.</p></dd>
<dt>lrt</dt><dd><p>p.value of the likelihood ratio test testing the interaction with the covariate.</p></dd>
<dt>covariates</dt><dd><p>the names of the covariate as provided or derived from variable name.</p></dd>
<dt>tstr</dt><dd><p>the strata term if included in the model.</p></dd>

</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The estimation of the coefficient and confidence interval follows four methods depending on the
inclusion of the interaction terms and specified level of a quantitative variable and follows. Four case
are therefore discriminated: no interaction with the covariate (i), interaction with a qualitative variable (ii),
interaction with a quantitative variable without (iii) or with a specified level (iv) for the estimation.</p>
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    

<p>Note that <code>s_cox_univariate()</code> function is deprecated and will be removed in the coming releases.
Please use the function <code><a href='cox_regression.html'>fit_coxreg_univar()</a></code> instead.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>scda</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/therneau/survival'>survival</a></span><span class='op'>)</span>

<span class='va'>ADTTE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/scda/man/synthetic_cdisc_data.html'>synthetic_cdisc_data</a></span><span class='op'>(</span><span class='st'>"latest"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>adtte</span>
<span class='va'>ADTTE_f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>ADTTE</span>, <span class='va'>PARAMCD</span> <span class='op'>==</span> <span class='st'>"OS"</span><span class='op'>)</span> <span class='co'># _f: filtered</span>
<span class='va'>ADTTE_f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>within</a></span><span class='op'>(</span> <span class='co'># nolint</span>
  data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span>
    <span class='va'>ADTTE_f</span>,
    <span class='va'>PARAMCD</span> <span class='op'>==</span> <span class='st'>"OS"</span>
    <span class='op'>&amp;</span> <span class='va'>ARMCD</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ARM A"</span>, <span class='st'>"ARM B"</span><span class='op'>)</span>
    <span class='op'>&amp;</span> <span class='va'>SEX</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"F"</span>, <span class='st'>"M"</span><span class='op'>)</span>
    <span class='op'>&amp;</span> <span class='va'>RACE</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ASIAN"</span>, <span class='st'>"BLACK OR AFRICAN AMERICAN"</span>, <span class='st'>"WHITE"</span><span class='op'>)</span>
  <span class='op'>)</span>,
  expr <span class='op'>=</span> <span class='op'>{</span> <span class='co'># nolint start</span>
    <span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>
    <span class='va'>ARMCD</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span><span class='op'>(</span><span class='va'>ARMCD</span><span class='op'>)</span>
    <span class='va'>ARMCD</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/relevel.html'>relevel</a></span><span class='op'>(</span><span class='va'>ARMCD</span>, <span class='st'>"ARM B"</span><span class='op'>)</span>
    <span class='va'>SEX</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span><span class='op'>(</span><span class='va'>SEX</span><span class='op'>)</span>
    <span class='va'>RACE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/droplevels.html'>droplevels</a></span><span class='op'>(</span><span class='va'>RACE</span><span class='op'>)</span>
    <span class='va'>X</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>ARM</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span> <span class='co'># nolint end</span>
<span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>s_cox_univariate</span><span class='op'>(</span>
  formula <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span><span class='op'>(</span>time <span class='op'>=</span> <span class='va'>AVAL</span>, event <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>-</span> <span class='va'>CNSR</span><span class='op'>)</span> <span class='op'>~</span> <span class='fu'><a href='arm.html'>arm</a></span><span class='op'>(</span><span class='va'>ARMCD</span><span class='op'>)</span>,
  data <span class='op'>=</span> <span class='va'>ADTTE_f</span>,
  covariates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>SEX</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>s_cox_univariate</span><span class='op'>(</span>
  formula <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span><span class='op'>(</span>time <span class='op'>=</span> <span class='va'>AVAL</span>, event <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>-</span> <span class='va'>CNSR</span><span class='op'>)</span> <span class='op'>~</span> <span class='fu'><a href='arm.html'>arm</a></span><span class='op'>(</span><span class='va'>ARMCD</span><span class='op'>)</span>,
  data <span class='op'>=</span> <span class='va'>ADTTE_f</span>,
  covariates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"Race"</span> <span class='op'>=</span> <span class='op'>~</span><span class='va'>RACE</span>, <span class='op'>~</span><span class='va'>AGE</span>, <span class='st'>"a rand. quant var with increments"</span> <span class='op'>=</span> <span class='op'>~</span><span class='va'>X</span><span class='op'>)</span>,
  interactions <span class='op'>=</span> <span class='cn'>TRUE</span>,
  increments <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>X <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>,
  conf_level <span class='op'>=</span> <span class='fl'>0.95</span>,
  pval_method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"wald"</span>, <span class='st'>"log-rank"</span>, <span class='st'>"likelihood"</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>
<span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by NEST, Roche, Saibah Chohan, Francois Collin, Nick Paszty, Ting Qi, Daniel Sabanes Bove, Jana Stoilova, Adrian Waddell, Heng Wang, Godwin Yung, Carreras Maximo, Zhao Rui, Wojciech Wojciak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


